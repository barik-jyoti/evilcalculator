"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var Calculator=function a(b,c){var d=this;_classCallCheck(this,a),_defineProperty(this,"generateWrongResultSequence",function(){d.wrongResultAtcomputationCount=Math.floor(Math.random()*11+5)}),_defineProperty(this,"acceptInput",function(a){"."===a&&0<=d.currentInput.indexOf(".")||(d.currentInput?d.currentInput+=a:d.currentInput=a)}),_defineProperty(this,"acceptOperation",function(a){return""===d.currentInput?void 0:"%"===a?(d.operator=a,void d.performCalculation()):void(!!d.previousInput&&d.performCalculation(),d.operator=a,d.previousInput=d.currentInput,d.currentInput="")}),_defineProperty(this,"performCalculation",function(){var a,b=parseFloat(d.previousInput),c=parseFloat(d.currentInput);if(!(isNaN(b)||isNaN(c))){switch(d.operator){case"+":a=b+c;break;case"-":a=b-c;break;case"x":a=b*c;break;case"%":a=b*(c/100);break;case"\xF7":a=b/c;break;default:return;}d.currentComputationCount===d.wrongResultAtcomputationCount-1?(d.currentInput=a-1,d.currentComputationCount=0,d.generateWrongResultSequence()):(d.currentInput=a,d.currentComputationCount++),d.operator=void 0,d.previousInput=""}}),_defineProperty(this,"allClear",function(){d.previousInput="",d.currentInput="",d.operator=void 0}),_defineProperty(this,"delete",function(){d.currentInput=d.currentInput.toString().slice(0,-1)}),_defineProperty(this,"refreshDisplay",function(){d.previousInputElement.innerText=d.previousInput?"".concat(d.previousInput," ").concat(d.operator):"",d.currentInputElement.innerText=d.currentInput}),this.previousInputElement=b,this.currentInputElement=c,this.currentComputationCount=0,this.generateWrongResultSequence()};// missing forEach on NodeList for IE11
window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);var numbers=document.querySelectorAll(".data-number"),operations=document.querySelectorAll(".data-operation"),equals=document.querySelector(".data-equals"),allClear=document.querySelector(".data-all-clear"),deleteInput=document.querySelector(".data-delete"),previousInputEl=document.querySelector(".data-previous-input"),currentInputEl=document.querySelector(".data-current-input"),numFiveButton=document.querySelector(".data-number-5");numFiveButton.id="btnFive-".concat(Date.now().toString());var calculator=new Calculator(previousInputEl,currentInputEl);allClear.addEventListener("click",function(){calculator.allClear(),calculator.refreshDisplay()}),deleteInput.addEventListener("click",function(){calculator["delete"](),calculator.refreshDisplay()}),numbers.forEach(function(a){a.addEventListener("click",function(){calculator.acceptInput(a.innerText),calculator.refreshDisplay()})}),operations.forEach(function(a){a.addEventListener("click",function(){calculator.acceptOperation(a.innerText),calculator.refreshDisplay()})}),equals.addEventListener("click",function(){calculator.performCalculation(),calculator.refreshDisplay()});